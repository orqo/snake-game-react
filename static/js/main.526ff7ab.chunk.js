(this["webpackJsonpsnake-game-react"]=this["webpackJsonpsnake-game-react"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(5),o=n.n(a),l=(n(10),n(11),n(2)),u=n(4);n(12);var i=n(0),s=function e(t){Object(u.a)(this,e),this.value=t,this.next=null},f=function e(t){Object(u.a)(this,e);var n=new s(t);this.head=n,this.tail=n},j="UP",d="RIGHT",h="DOWN",b="LEFT",v=200,O=150,w=100,x=function(e){var t=e.length,n=e[0].length,c=Math.round(t/2),r=Math.round(n/3);return{row:c,col:r,cell:e[c][r]}},m=function(e){for(var t=1,n=[],c=0;c<e;c++){for(var r=[],a=0;a<e;a++)r.push(t++);n.push(r)}return n},S=function(e,t){return t===j?{row:e.row-1,col:e.col}:t===d?{row:e.row,col:e.col+1}:t===h?{row:e.row+1,col:e.col}:t===b?{row:e.row,col:e.col-1}:void 0},g=function(e,t){return!!e.has(t)},p=function(e,t){var n=e.row,c=e.col;return n<0||c<0||(n>=t.length||c>=t[0].length)},k=function(e){return"w"===e?j:"d"===e?d:"s"===e?h:"a"===e?b:""},y=function(e,t){var n=C(e,t),c=E(n),r={row:e.value.row,col:e.value.col};return S(r,c)},C=function(e,t){if(null===e.next)return t;var n=e.value,c=n.row,r=n.col,a=e.next.value,o=a.row,l=a.col;return o===c&&l===r+1?d:o===c&&l===r-1?b:l===r&&o===c+1?h:l===r&&o===c-1?j:""},E=function(e){return e===j?h:e===d?b:e===h?j:e===b?d:void 0},M=function(e){return 200===e?"Easy":150===e?"Medium":100===e?"Hard":void 0},N=function(e,t,n){var c="cell";return e===n&&(c="cell food-cell"),t.has(e)&&(c="cell snake-cell"),c},F=function(){var e=Object(c.useState)(m(10)),t=Object(l.a)(e,2),n=t[0],r=(t[1],Object(c.useState)(0)),a=Object(l.a)(r,2),o=a[0],u=a[1],j=Object(c.useState)(0),h=Object(l.a)(j,2),b=h[0],C=h[1],F=Object(c.useState)(new f(x(n))),I=Object(l.a)(F,2),H=I[0],L=I[1],P=Object(c.useState)(new Set([H.head.value.cell])),R=Object(l.a)(P,2),T=R[0],D=R[1],A=Object(c.useRef)(T),B=function(e){A.current=e,D(e)},J=Object(c.useState)(H.head.value.cell+4),U=Object(l.a)(J,2),W=U[0],z=U[1],G=Object(c.useState)(d),q=Object(l.a)(G,2),K=q[0],Q=q[1],V=Object(c.useRef)(K),X=function(e){V.current=e,Q(e)},Y=Object(c.useState)(!1),Z=Object(l.a)(Y,2),$=Z[0],_=Z[1],ee=Object(c.useState)(v),te=Object(l.a)(ee,2),ne=te[0],ce=te[1];Object(c.useEffect)((function(){window.addEventListener("keydown",(function(e){_(!0),re(e)}))})),function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){ae()}),$?ne:null);var re=function(e){var t=k(e.key);""!==t&&(E(t)===V.current&&A.current.size>1||X(t))},ae=function(){var e={row:H.head.value.row,col:H.head.value.col},t=S(e,K);if(p(t,n))ue();else{var c=n[t.row][t.col];if(g(T,c))ue();else{var r=new s({row:t.row,col:t.col,cell:c}),a=H.head;H.head=r,a.next=r;var o=new Set(T);o.delete(H.tail.value.cell),o.add(c),H.tail=H.tail.next,null===H.tail&&(H.tail=H.head),c===W&&(oe(o),le(o)),B(o)}}},oe=function(e){var t=y(H.tail,K);if(!p(t,n)){var c=n[t.row][t.col],r=new s({row:t.row,col:t.col,cell:c}),a=H.tail;H.tail=r,H.tail.next=a,e.add(c)}},le=function(e){for(var t,n,c;n=1,c=100,t=Math.floor(Math.random()*(c-n+1)+n),e.has(t)||W===t;);z(t),u(o+1),o>=b&&C(o+1)},ue=function(){u(0);var e=x(n);L(new f(e)),z(e.cell+4),B(new Set([e.cell])),X(d),_(!1)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h1",{children:["High Score: ",b]}),Object(i.jsxs)("h1",{children:["Score: ",o]}),Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsxs)("div",{className:"instructions",children:[Object(i.jsx)("h2",{children:"Press any key to start the game"}),Object(i.jsx)("h2",{children:"Use WASD to move"}),Object(i.jsx)("h2",{children:"Choose a difficulty"}),Object(i.jsxs)("h2",{children:["Current difficulty: ",M(ne)]}),Object(i.jsx)("button",{onClick:function(){return ce(v)},children:"Easy"}),Object(i.jsx)("button",{onClick:function(){return ce(O)},children:"Medium"}),Object(i.jsx)("button",{onClick:function(){return ce(w)},children:"Hard"})]}),Object(i.jsx)("div",{className:"grid",children:n.map((function(e,t){return Object(i.jsx)("div",{className:"row",children:e.map((function(e,t){var n=N(e,T,W);return Object(i.jsx)("div",{className:n},t)}))},t)}))})]})]})};var I=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(F,{})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(I,{})}),document.getElementById("root")),H()}],[[14,1,2]]]);
//# sourceMappingURL=main.526ff7ab.chunk.js.map